<ion-header>
    <ion-navbar>
        <ion-title>Ionic SelectSearchable</ion-title>
    </ion-navbar>
</ion-header>
<ion-content>
    <!-- <ion-item-group margin-bottom>
        <ion-item-divider color="light">
            <h1>Test</h1>
        </ion-item-divider>
        <ion-item>
            <ports [ports]="ports">
                <ng-template portsTitleTemplate>
                    Ports
                </ng-template>
                <ng-template portsItemTemplate let-port="item">
                    {{port.name}} ({{port.country}})
                </ng-template>
                <ng-template portsValueTemplate let-port="value">
                    {{port.name}} ({{port.country}})
                </ng-template>
            </ports>
        </ion-item>
    </ion-item-group> -->
    <ion-item-group margin-bottom>
        <ion-item-divider color="light">
            <h1>Basic</h1>
        </ion-item-divider>
        <ion-item>
            <select-searchable
                [(ngModel)]="port1"
                itemValueField="id"
                itemTextField="name"
                [items]="ports"
                (onChange)="portChange($event)">
                <ng-template selectSearchableLabelTemplate>
                    Port
                </ng-template>
            </select-searchable>
        </ion-item>
    </ion-item-group>
    <ion-item-group margin-bottom>
        <ion-item-divider color="light">
            <h1>Initial value</h1>
        </ion-item-divider>
        <ion-item>
            <select-searchable
                [(ngModel)]="port2"
                itemValueField="id"
                itemTextField="name"
                [items]="ports"
                (onChange)="portChange($event)">
                <ng-template selectSearchableLabelTemplate>
                    Port
                </ng-template>
            </select-searchable>
        </ion-item>
    </ion-item-group>
    <ion-item-group margin-bottom>
        <ion-item-divider color="light">
            <h1>Disabled</h1>
        </ion-item-divider>
        <ion-item>
            <select-searchable
                [(ngModel)]="port11"
                itemValueField="id"
                itemTextField="name"
                [items]="ports"
                [isEnabled]="false"
                (onChange)="portChange($event)">
                <ng-template selectSearchableLabelTemplate>
                    Port
                </ng-template>
            </select-searchable>
        </ion-item>
    </ion-item-group>
    <ion-item-group margin-bottom>
        <ion-item-divider color="light">
            <h1>Search</h1>
        </ion-item-divider>
        <ion-item>
            <select-searchable
                [(ngModel)]="port3"
                itemValueField="id"
                itemTextField="name"
                [items]="ports"
                [canSearch]="true"
                (onChange)="portChange($event)">
                <ng-template selectSearchableLabelTemplate>
                    Port
                </ng-template>
            </select-searchable>
        </ion-item>
    </ion-item-group>
    <ion-item-group margin-bottom>
        <ion-item-divider color="light">
            <h1>Search (Async)</h1>
        </ion-item-divider>
        <ion-item>
            <select-searchable
                [(ngModel)]="port4"
                itemValueField="id"
                itemTextField="name"
                [items]="ports"
                [canSearch]="true"
                searchPlaceholder="Type to search, e.g. &quot;s&quot;"
                (onSearch)="searchPorts($event)"
                (onChange)="portChange($event)">
                <ng-template selectSearchableLabelTemplate>
                    Port
                </ng-template>
            </select-searchable>
        </ion-item>
    </ion-item-group>
    <ion-item-group margin-bottom>
        <ion-item-divider color="light">
            <h1>Label template</h1>
        </ion-item-divider>
        <ion-item>
            <select-searchable
                [(ngModel)]="port14"
                itemValueField="id"
                itemTextField="name"
                [items]="ports"
                (onChange)="portChange($event)">
                <ng-template selectSearchableLabelTemplate>
                    Port <span style="color: red">(required)</span>
                </ng-template>
            </select-searchable>
        </ion-item>
    </ion-item-group>
    <ion-item-group margin-bottom>
        <ion-item-divider color="light">
            <h1>Item template</h1>
        </ion-item-divider>
        <ion-item>
            <select-searchable
                [(ngModel)]="port5"
                itemValueField="id"
                itemTextField="name"
                [items]="ports"
                [canSearch]="true"
                [canReset]="true"
                (onChange)="portChange($event)">
                <ng-template selectSearchableLabelTemplate>
                    Port
                </ng-template>
                <ng-template selectSearchableItemTemplate let-port="item">
                    {{port.name}} ({{port.country}})
                </ng-template>
            </select-searchable>
        </ion-item>
    </ion-item-group>
    <ion-item-group margin-bottom>
        <ion-item-divider color="light">
            <h1>Value template</h1>
        </ion-item-divider>
        <ion-item>
            <select-searchable
                [(ngModel)]="port12"
                itemValueField="id"
                itemTextField="name"
                [items]="ports"
                [canSearch]="true"
                [canReset]="true"
                (onChange)="portChange($event)">
                <ng-template selectSearchableLabelTemplate>
                    Port
                </ng-template>
                <ng-template selectSearchableValueTemplate let-port="value">
                    {{port.name}} ({{port.country}})
                </ng-template>
            </select-searchable>
        </ion-item>
    </ion-item-group>
    <ion-item-group margin-bottom>
        <ion-item-divider color="light">
            <h1>Multiple value template</h1>
        </ion-item-divider>
        <ion-item>
            <select-searchable
                [(ngModel)]="port13"
                [multiple]="true"
                itemValueField="id"
                itemTextField="name"
                [items]="ports"
                [canSearch]="true"
                [canReset]="true"
                (onChange)="portChange($event)">
                <ng-template selectSearchableLabelTemplate>
                    Port
                </ng-template>
                <ng-template selectSearchableValueTemplate let-ports="value">
                    <div class="select-searchable-value-item" *ngFor="let port of ports">
                        {{port.name}} ({{port.country}})
                    </div>
                </ng-template>
            </select-searchable>
        </ion-item>
    </ion-item-group>
    <ion-item-group margin-bottom>
        <ion-item-divider color="light">
            <h1>Multiple selection</h1>
        </ion-item-divider>
        <ion-item>
            <select-searchable
                [(ngModel)]="port6"
                itemValueField="id"
                itemTextField="name"
                [items]="ports"
                [canSearch]="true"
                [canReset]="true"
                [multiple]="true"
                (onChange)="portChange($event)">
                <ng-template selectSearchableLabelTemplate>
                    Port
                </ng-template>
            </select-searchable>
        </ion-item>
    </ion-item-group>
    <ion-item-group margin-bottom>
        <ion-item-divider color="light">
            <h1>"Clear" button</h1>
        </ion-item-divider>
        <ion-item>
            <select-searchable
                [(ngModel)]="port7"
                itemValueField="id"
                itemTextField="name"
                [items]="ports"
                (onChange)="portChange($event)"
                [canReset]="true">
                <ng-template selectSearchableLabelTemplate>
                    Port
                </ng-template>
            </select-searchable>
        </ion-item>
    </ion-item-group>
    <form [formGroup]="form" margin-bottom>
        <ion-item-group>
            <ion-item-divider color="light">
                <h1>Angular Forms support</h1>
            </ion-item-divider>
            <ion-item>
                <select-searchable
                    formControlName="port8"
                    itemValueField="id"
                    itemTextField="name"
                    [items]="ports"
                    [canSearch]="true"
                    (onChange)="portChange($event)">
                    <ng-template selectSearchableLabelTemplate>
                        Port
                    </ng-template>
                </select-searchable>
                <button ion-button item-right (click)="reset()" [disabled]="!form.valid">Reset</button>
            </ion-item>
            <ion-item>
                <p>Is valid: {{form.valid}}</p>
            </ion-item>
        </ion-item-group>
    </form>
    <ion-item-group margin-bottom>
        <ion-item-divider color="light">
            <h1>Flat array, e.g. ['Vladivostok', ...]</h1>
        </ion-item-divider>
        <ion-item>
            <select-searchable
                [(ngModel)]="port9"
                [items]="portNames"
                [canSearch]="true"
                (onChange)="portChange($event)">
                <ng-template selectSearchableLabelTemplate>
                    Port
                </ng-template>
            </select-searchable>
        </ion-item>
    </ion-item-group>
    <ion-item-group margin-bottom>
        <ion-item-divider color="light">
            <h1>Infinite scroll</h1>
        </ion-item-divider>
        <ion-item>
            <select-searchable
                [(ngModel)]="port10"
                itemValueField="id"
                itemTextField="name"
                [items]="ports10"
                [hasInfiniteScroll]="true"
                [canSearch]="true"
                (onSearch)="searchPortsInfinite($event)"
                (onInfiniteScroll)="getMorePorts($event)"
                (onChange)="portChange($event)">
                <ng-template selectSearchableLabelTemplate>
                    Port
                </ng-template>
            </select-searchable>
        </ion-item>
    </ion-item-group>
    <ion-item-group margin-bottom>
        <ion-item-divider color="light">
            <h1>Inside modal</h1>
        </ion-item-divider>
        <ion-item>
            <button ion-button (click)="openModal()">Open</button>
        </ion-item>
    </ion-item-group>
</ion-content>
